<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <TITLE>Stacked Bar Chart</TITLE>
    <SCRIPT src = "http://d3js.org/d3.v3.min.js"></SCRIPT>
    <SCRIPT src = "js/jquery-2.2.1.min.js"></SCRIPT>
    <SCRIPT src = "js/jquery-ui-1.11.4.min.js"></SCRIPT>
    <SCRIPT src = "http://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></SCRIPT>
    <SCRIPT src = "js/underscore-min.js"></SCRIPT>
    <SCRIPT src = "js/moment.min.js"></SCRIPT>
    <SCRIPT src = "js/datetime.js"></SCRIPT>
    <SCRIPT src = "js/datetime-moment.js"></SCRIPT>
    <SCRIPT src = "js/app.js"></SCRIPT>
    <SCRIPT src = "js/StackedBar.js"></SCRIPT>
    <link rel="stylesheet" type="text/css" href="css/stackedbar.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href='http://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css' rel='stylesheet' type='text/css'>
</head>
<body>
    <div class="panel-body" >
        <div class="row">
            <div class="col-md-6">
                <div id="stackedBarChart1" class="stackedBarChart">
                </div>
            </div>
            <div class="col-md-6">
                <div id="stackedBarChart2" class="stackedBarChart">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div id="stackedBarChart3" class="stackedBarChart">
                </div>
            </div>
            <div class="col-md-6">
                <div id="stackedBarChart4" class="stackedBarChart">
                </div>
            </div>
        </div>
    </div>
    <button id="StringButton"> Dataset #1 (string) </button></p>
    <button id="DateButton">Dataset #2 (date) </button></p>
	<br>
	<div id="clickInfo"></div>

    <script>

    // On load use string dataset
    window.onload = renderStringDataset;
    // Set buttons
    document.getElementById("StringButton").onclick = renderStringDataset;
    document.getElementById("DateButton").onclick = renderDateDataset;
    

    var applicationColors = [ "#F5A623", "#00ADF3", "#00975E", "#AE53C0", "#FF7152", "#D22F43", "#50E3C2", "#FFD92F", "#A0E254", "#550000", "#E55F95", "#AA3939", "#304E0E", "#4745FF", "#6900C4" ];
    var precision = 2;

    var stackedBarParam1 = {
        width: $("#stackedBarChart1").width(),
        height: 500,
        elem: "#stackedBarChart1",
        chartTitle: "Stacked Bar Chart",
        tooltipTitle: "Tooltip"
    }

    var stackedBarParam2 = {
        width: $("#stackedBarChart2").width(),
        height: 500,
        elem: "#stackedBarChart2",
        chartTitle: "Stacked Bar Chart",
        tooltipTitle: "Tooltip"
    }

    var stackedBarParam3 = {
        width: $("#stackedBarChart3").width(),
        height: 500,
        elem: "#stackedBarChart3",
        chartTitle: "Stacked Bar Chart",
        tooltipTitle: "Tooltip"
    }

    var stackedBarParam4 = {
        width: $("#stackedBarChart4").width(),
        height: 500,
        elem: "#stackedBarChart4",
        chartTitle: "Stacked Bar Chart",
        tooltipTitle: "Tooltip"
    }

    var stackedBarChart1 = new StackedBarChart(stackedBarParam1);
    var stackedBarChart2 = new StackedBarChart(stackedBarParam2);
    var stackedBarChart3 = new StackedBarChart(stackedBarParam3);
    var stackedBarChart4 = new StackedBarChart(stackedBarParam4);

    function renderDateDataset() {
      d3.json("data/stackedbardate.json", function(data) {
          stackedBarChart1.xAxisLabel = "Date";
          stackedBarChart1.yAxisLabel = "Score";

          stackedBarChart2.xAxisLabel = "Date";
          stackedBarChart2.yAxisLabel = "Score";

          stackedBarChart3.xAxisLabel = "Date";
          stackedBarChart3.yAxisLabel = "Score";

          stackedBarChart4.xAxisLabel = "Date";
          stackedBarChart4.yAxisLabel = "Score";

          stackedBarChart1.initChart(data, precision, applicationColors);
          stackedBarChart1.updateChart(data);

          stackedBarChart2.initChart(data, precision, applicationColors);
          stackedBarChart2.updateChart(data);

          stackedBarChart3.initChart(data, precision, applicationColors);
          stackedBarChart3.updateChart(data);

          stackedBarChart4.initChart(data, precision, applicationColors);
          stackedBarChart4.updateChart(data);
      });
    }

    function renderStringDataset() {
      d3.json("data/stackedbarstring.json", function(data) {
        stackedBarChart1.xAxisLabel = "String";
        stackedBarChart1.yAxisLabel = "Score";

        stackedBarChart2.xAxisLabel = "String";
        stackedBarChart2.yAxisLabel = "Score";

        stackedBarChart3.xAxisLabel = "String";
        stackedBarChart3.yAxisLabel = "Score";

        stackedBarChart4.xAxisLabel = "String";
        stackedBarChart4.yAxisLabel = "Score";

        stackedBarChart1.initChart(data, precision, applicationColors);
        stackedBarChart1.updateChart(data);

        stackedBarChart2.initChart(data, precision, applicationColors);
        stackedBarChart2.updateChart(data);

        stackedBarChart3.initChart(data, precision, applicationColors);
        stackedBarChart3.updateChart(data);

        stackedBarChart4.initChart(data, precision, applicationColors);
        stackedBarChart4.updateChart(data);
      });

    }




    </script>

</body>
